<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <!--  basic meta information -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Content-Type" content="application/json; charset=utf-8">
    <meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=yes" name="viewport">
    <script src="https://www.wikitude.com/libs/architect.js"></script>

    <title>My ARchitect World</title>

        <script src="https://www.wikitude.com/libs/architect.js"></script>
         <script>
             function locationChanged(lat,lon,alt,acc){
                var marker_image=new AR.ImageResource("assets/tigre.jpg");
                var marker_loc = new AR.GeoLocation(lat, lon, alt);
                var marker_drawable = new AR.ImageDrawable(marker_image,9);
                var marker_object = new AR.GeoObject(marker_loc,{
                    drawables:{
                        cam: [marker_drawable]
                    }
                });
             }
        AR.context.onLocationChanged=locationChanged;

        </script>

</head>

<body>

<div id="infoBox" class="info">
    <div class="text">escanea el codigo qr:</div>
</div>

<script >
    var World = {
    loaded: false,
    rotating: false,

        init: function initFn() {
            this.createOverlays();
        },

    createOverlays: function createOverlaysFn() {
       this.targetCollectionResource = new AR.TargetCollectionResource("assets/tracker.wtc", {
            onError: World.onError
        });

        this.tracker = new AR.ImageTracker(this.targetCollectionResource, {
            onTargetsLoaded: World.showInfoBar,
            onError: World.onError
        });

        this.tracker = new AR.ImageTracker(this.targetCollectionResource, {
            onTargetsLoaded: World.showInfoBar,
            onError: World.onError
        });


        this.modelCar = new AR.Model("assets/pruebatamnio.wt3", {
            onLoaded: World.showInfoBar,
            onError: World.onError,
            scale: {
                x: 0.45,
                y: 0.45,
                z: 0.45
            },
            translate: {
                x: 0.0,
                y: 0.5,
                z: 0.0
            },
            rotate: {
                z: -25
            }
        });
        this.trackable = new AR.ImageTrackable(this.tracker, "*", {
            drawables: {
                cam: [this.modelCar]
            },
            onImageRecognized: World.hideInfoBar,
            onError: World.onError
        });
    },

    onError: function onErrorFn(error) {
        alert(error)
    },

    hideInfoBar: function hideInfoBarFn() {
        document.getElementById("infoBox").style.display = "none";
    },

    showInfoBar: function worldLoadedFn() {
        document.getElementById("infoBox").style.display = "table";
        document.getElementById("loadingMessage").style.display = "none";
    }

  };

    World.init();

</script>


</body>

</html>
